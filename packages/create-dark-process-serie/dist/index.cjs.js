/** @vue-chart/create-dark-process-serie
 *
 * @author halo951(https://github.com/halo951)
 * @license MIT
 */
"use strict";var e=require("echarts");const t=new Image;t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTU3IiBoZWlnaHQ9IjE1NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIG9wYWNpdHk9Ii4yIiBjeD0iNzguNTY0IiBjeT0iNzguMDEiIHI9IjcwLjQzNiIgc3Ryb2tlPSIjRDFFQkZGIiBzdHJva2Utd2lkdGg9IjE0LjQiIHN0cm9rZS1kYXNoYXJyYXk9IjEwIi8+PC9zdmc+";const r=(e,t)=>(e/t*100).toFixed(1).replace(/\.0$/,"")+"%",n=(e,t)=>(r,n)=>{const i={type:"group",children:[f(r,n,t),y(r,n),a(r,n)]};return e&&i.children.push(o(r)),i},o=(e,t)=>{const{seriesName:r}=e,{cx:n,cy:o,r:a}=e.coordSys;return{type:"text",x:n,y:o+a+14,style:{text:r,fontFamily:"PingFang SC",fontStyle:"normal",fontWeight:400,fontSize:14,fill:"#B8BFCF",align:"center",verticalAlign:"top"}}},a=(e,t)=>{const n=t.value(0),o=t.value(2),{cx:a,cy:i,r:l}=e.coordSys;return{type:"text",x:a,y:i+.035*l,style:{text:r(o,n),fontFamily:"PingFang SC",fontStyle:"normal",fontSize:.36*l,fontWeight:400,fill:"#ffffff",align:"center",verticalAlign:"middle"},extra:{value:o,transition:"value",enterFrom:{value:0}},during(e){const t=e.getExtra("value");e.setStyle("text",r(t,n))}}},i=(e,t,r,n,o)=>{const a=360*e-90,i=t-r;return{x:n+i*Math.cos(a*Math.PI/180),y:o+i*Math.sin(a*Math.PI/180)}},l=(e,t,r,n,o)=>({type:"circle",style:{fill:e.visual("color").colorStops[0].color},shape:{cx:t,cy:r-n+o,r:o}}),s=(e,t,r,n,o,a,i)=>({type:"circle",style:{fill:e.visual("color")},shape:{cx:t,cy:r,r:n},clipPath:{type:"sector",shape:{r:n,r0:o,cx:t,cy:r,startAngle:a,endAngle:i,transition:["endAngle"],enterFrom:{endAngle:a}}}}),c=(e,t,r,n,o,a)=>{const l=e/t,{x:s,y:c}=i(l,o,a,r,n);return{type:"group",x:s,y:c,extra:{endProcess:l,transition:"endProcess",enterFrom:{endProcess:0}},transition:[],updateAnimation:{},during(e){const t=e.getExtra("endProcess"),l=i(t,o,a,r,n);e.setTransform("x",l.x),e.setTransform("y",l.y)},children:[{type:"circle",style:{fill:"#00BBFF",fillOpacity:.35},shape:{r:a+6.66}},{type:"circle",style:{fill:"#00B3FF",fillOpacity:.35},shape:{r:a+3.33},keyframeAnimation:{loop:!0,keyframes:[{percent:0,shape:{r:a+3.33}},{percent:.5,shape:{r:a+6.66},style:{fillOpacity:.2}},{percent:1,shape:{r:a+3.33}}]}},{type:"circle",style:{fill:"#ffffff"},shape:{r:a}}]}},y=(e,t)=>{const{cx:r,cy:n,r:o}=e.coordSys;let a=t.value(2);const i=t.value(1),y=t.value(0);a=a>y?y:a;const f=-1*t.coord([1,i])[3],p=-1*t.coord([1,a])[3],d=.8*o,u=Math.abs(o-d)/2;return{type:"group",children:[s(t,r,n,o,d,f,p),l(t,r,n,o,u),c(a,y,r,n,o,u)]}},f=(e,r,n)=>{const{cx:o,cy:a,r:i}=e.coordSys;return{type:"image",x:o-i,y:a-i,style:{image:n??t,width:2*i,height:2*i}}},p=new e.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#4EB1FD"},{offset:1,color:"#019CFF"}]);module.exports=e=>{const t={};var r,o;return(e=>{e.color=[p]})(t),(e=>{e.animationDuration=1e3,e.animationDurationUpdate=700,e.animationEasingUpdate="linear",e.stateAnimation={duration:0}})(t),t.series=(r=e.title,o=e.background,{name:r,type:"custom",coordinateSystem:"polar",renderItem:n(r,o)}),t.dataset={source:[[e.max,0,e.val]]},t.grid={top:0,left:0,right:0,bottom:0},t.angleAxis={show:!1,min:0,max:e.max,type:"value"},t.radiusAxis={show:!1},t.polar={center:["center","center"],radius:100,...e.polar},e.title&&(t.tooltip={show:!0,extraCssText:"text-align:left;",enterable:!0,textStyle:{fontFamily:"PingFang SC",fontStyle:"normal",fontWeight:400,fontSize:12,color:"#ffffff"},borderWidth:0,borderColor:"#000",backgroundColor:"rgba(0,0,0,0.5)",formatter:e=>{const t=`${e.seriesName} ${r=e.value[2],n=e.value[0],(r/n*100).toFixed(1).replace(/\.0$/,"")+"%"}`;var r,n;return[e.marker,`<span style='margin-left: 8px; font-size: 12px; color: #ffffff;'>${t}</span>`].join("")}}),t};
