/** @vue-chart/create-process-serie
 *
 * @author halo951(https://github.com/halo951)
 * @license MIT
 */
"use strict";var e=require("echarts");const t=new Image;t.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTU3IiBoZWlnaHQ9IjE1NiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48Y2lyY2xlIGN4PSI3OC41NjQiIGN5PSI3OC4wMSIgcj0iNzAuNDM2IiBzdHJva2U9IiNEMUVCRkYiIHN0cm9rZS13aWR0aD0iMTQuNCIgc3Ryb2tlLWRhc2hhcnJheT0iOS4yMiIvPjwvc3ZnPg==";const r=(e,t)=>(e/t*100).toFixed(1).replace(/\.0$/,"")+"%",n=(e,t)=>(r,n)=>{const i={type:"group",children:[p(r,n,t),y(r,n),o(r,n)]};return e&&i.children.push(a(r)),i},a=(e,t)=>{const{seriesName:r}=e,{cx:n,cy:a,r:o}=e.coordSys;return{type:"text",x:n,y:a+o+14,style:{text:r,fontFamily:"PingFang SC",fontStyle:"normal",fontWeight:400,fontSize:14,fill:"#8D9399",align:"center",verticalAlign:"top"}}},o=(e,t)=>{const n=t.value(0),a=t.value(2),{cx:o,cy:i,r:l}=e.coordSys;return{type:"text",x:o,y:i+.035*l,style:{text:r(a,n),fontFamily:"PingFang SC",fontStyle:"normal",fontSize:.36*l,fontWeight:400,fill:"#1F2429",align:"center",verticalAlign:"middle"},extra:{value:a,transition:"value",enterFrom:{value:0}},during(e){const t=e.getExtra("value");e.setStyle("text",r(t,n))}}},i=(e,t,r,n,a)=>{const o=360*e-90,i=t-r;return{x:n+i*Math.cos(o*Math.PI/180),y:a+i*Math.sin(o*Math.PI/180)}},l=(e,t,r,n,a)=>({type:"circle",style:{fill:e.visual("color").colorStops[0].color},shape:{cx:t,cy:r-n+a,r:a}}),s=(e,t,r,n,a,o,i)=>({type:"circle",style:{fill:e.visual("color")},shape:{cx:t,cy:r,r:n},clipPath:{type:"sector",shape:{r:n,r0:a,cx:t,cy:r,startAngle:o,endAngle:i,transition:["endAngle"],enterFrom:{endAngle:o}}}}),c=(e,t,r,n,a,o)=>{const l=e/t,{x:s,y:c}=i(l,a,o,r,n);return{type:"group",x:s,y:c,extra:{endProcess:l,transition:"endProcess",enterFrom:{endProcess:0}},transition:[],updateAnimation:{},during(e){const t=e.getExtra("endProcess"),l=i(t,a,o,r,n);e.setTransform("x",l.x),e.setTransform("y",l.y)},children:[{type:"circle",style:{fill:"#00BBFF",fillOpacity:.35},shape:{r:o+6.66}},{type:"circle",style:{fill:"#00B3FF",fillOpacity:.35},shape:{r:o+3.33},keyframeAnimation:{loop:!0,keyframes:[{percent:0,shape:{r:o+3.33}},{percent:.5,shape:{r:o+6.66},style:{fillOpacity:.2}},{percent:1,shape:{r:o+3.33}}]}},{type:"circle",style:{fill:"#ffffff"},shape:{r:o}}]}},y=(e,t)=>{const{cx:r,cy:n,r:a}=e.coordSys;let o=t.value(2);const i=t.value(1),y=t.value(0);o=o>y?y:o;const p=-1*t.coord([1,i])[3],f=-1*t.coord([1,o])[3],u=.8*a,d=Math.abs(a-u)/2;return{type:"group",children:[s(t,r,n,a,u,p,f),l(t,r,n,a,d),c(o,y,r,n,a,d)]}},p=(e,r,n)=>{const{cx:a,cy:o,r:i}=e.coordSys;return{type:"image",x:a-i,y:o-i,style:{image:n??t,width:2*i,height:2*i}}},f=new e.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#4EB1FD"},{offset:1,color:"#019CFF"}]);module.exports=e=>{const t={};var r,a;return(e=>{e.color=[f]})(t),(e=>{e.animationDuration=1e3,e.animationDurationUpdate=700,e.animationEasingUpdate="linear",e.stateAnimation={duration:0}})(t),t.series=(r=e.title,a=e.background,{name:r,type:"custom",coordinateSystem:"polar",renderItem:n(r,a)}),t.dataset={source:[[e.max,0,e.val]]},t.grid={top:0,left:0,right:0,bottom:0},t.angleAxis={show:!1,min:0,max:e.max,type:"value"},t.radiusAxis={show:!1},t.polar={center:["center","center"],radius:100,...e.polar},e.title&&(t.tooltip={show:!0,extraCssText:"text-align:left;",enterable:!0,textStyle:{fontFamily:"PingFang SC",fontStyle:"normal",fontWeight:400,fontSize:12,color:"#1F2429"},backgroundColor:"#ffffff",shadowBlur:6,shadowOffsetY:3,formatter:e=>{const t=`${e.seriesName} ${r=e.value[2],n=e.value[0],(r/n*100).toFixed(1).replace(/\.0$/,"")+"%"}`;var r,n;return[e.marker,`<span style='margin-left: 8px; font-size: 12px; color: #1F2429;'>${t}</span>`].join("")}}),t};
